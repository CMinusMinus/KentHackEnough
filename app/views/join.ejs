<html>
    <head>
        <title>Join Game</title>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-cookies.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    </head>
    <body ng-app="word" ng-controller="joinGameCtrl">
        <p>Join Game</p>
        <label for="key">Access Code: </label>
        <input ng-model="accessCode" id="code" value="code" type="text" />
        <label for="code">Your Name: </label>
        <input ng-model="name" id="name" value="name" type="text" />
        <a class="btn btn-default" href="/lobby/{{accessCode}}" ng-click="joinGame()">Join game</a>
        <script>
            var app = angular.module("word",['ngCookies']);

            app.controller("joinGameCtrl",["$scope","$http", "$cookies", function($scope, $http, $cookies){
                $scope.accessCode;
                $scope.name;
                $scope.joinGame = function() {
                    $http({
                        method: "POST",
                        url: "/game/join",
                        header: { "Content-Type": "application/json" },
                        data: {
                            "accessCode": $scope.accessCode,
                            "name": $scope.name
                        }
                    });
                    $cookies.put("accessCode", $scope.accessCode);
                    $cookies.put("name", $scope.name);
                };
            }]);
        </script>
    </body>
</html>
